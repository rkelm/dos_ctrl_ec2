{
   "Version": "2012-10-17",
   "Statement": [
   {
		"Action": [
			 "ssm:ListDocuments",
			 "ssm:DescribeDocument",
			 "ssm:GetDocument",
			 "ssm:DescribeInstanceInformation"
		],
		"Effect": "Allow",
		"Resource": "*"
   },
   {
		"Action": "ssm:SendCommand",
		"Effect": "Allow",
		"Resource": [
			 "arn:aws:ec2:*:*:instance/*",
			 "arn:aws:ssm:*:*:document/RestartLinuxService"
		]
   },
   {
		"Action": [
			 "ssm:CancelCommand",
			 "ssm:ListCommands",
			 "ssm:ListCommandInvocations"
		],
		"Effect": "Allow",
		"Resource": "*"
   },
   {
      "Effect": "Allow",
      "Action": [
         "ec2:DescribeInstances", "ec2:DescribeImages", "ec2:DescribeInstanceStatus",
         "ec2:DescribeKeyPairs","ec2:DescribeVpcs", "ec2:DescribeSubnets", "ec2:DescribeSecurityGroups",
		 "ec2:DescribeVolumes", "ec2:DescribeVolumeStatus", 
		"ec2:DescribeAvailabilityZones", "ec2:TerminateInstances", "ec2:wait", "ec2:CreateTags", "ec2:CreateSnapshot"
	  ],
	  "Resource": "*"
   },
	{
		"Effect": "Allow",
		"Action": "iam:PassRole",
		"Resource": [
			"arn:aws:sns:eu-central-1:188892360808:role/SSM_Controlled_Instance"
		]
	},   
   {
      "Effect": "Allow",
      "Action":"sns:Publish",
      "Resource": [
         "arn:aws:sns:*:*:Minecraft_Server"
      ]
   },
   {
      "Effect": "Allow",
      "Action":"ec2:RunInstances",
      "Resource": [
         "arn:aws:ec2:*:*:network-interface/*",
         "arn:aws:ec2:*:*:volume/*",
         "arn:aws:ec2:*:*:key-pair/Power_User",
         "arn:aws:ec2:*:*:security-group/*",
         "arn:aws:ec2:*:*:subnet/*"
      ]
   },
   {
      "Effect": "Allow",
      "Action": "ec2:RunInstances",
      "Resource": [
         "arn:aws:ec2:*:*:instance/*"
      ],
      "Condition": {
         "StringEquals": {
            "ec2:InstanceType": ["c4.large", "t2.medium", "t2.small", "t2.micro"]
         }
      }
   },
   {
      "Effect": "Allow",
      "Action": "ec2:RunInstances",
      "Resource": [ 
            "arn:aws:ec2:*::image/ami-*"
      ],
      "Condition": {
         "StringEquals": {
            "ec2:Owner": "amazon"
         }
      }
   },
    {
      "Effect": "Allow",
      "Action": [
        "ec2:AttachVolume",
        "ec2:DetachVolume"
      ],
      "Resource": "arn:aws:ec2:*:*:instance/*"
     },
   {
      "Effect": "Allow",
      "Action": [
        "ec2:AttachVolume",
        "ec2:DetachVolume"
      ],
      "Resource": "arn:aws:ec2:*:*:volume/*"
	}
   ]
}